    if option not in ['-s', '-c']:
        raise ValueError("Invalid option")

    # Read data.csv from current directory
    with open("data.csv", newline='') as csvfile:
        reader = csv.DictReader(csvfile)
        data = list(reader)

    if option == '-s':
        # Filter records by student ID
        filtered = [r for r in data if r['Student ID'] == value]
        if not filtered:
            raise ValueError("Student ID not found")

        html_content = generate_html_student(filtered)

        with open("output.html", "w") as f:
            f.write(html_content)

    elif option == '-c':
        # Filter records by course ID
        filtered = [r for r in data if r['Course ID'] == value]
        if not filtered:
            raise ValueError("Course ID not found")

        marks = [int(r['Marks']) for r in filtered]
        avg_marks = round(sum(marks) / len(marks), 1)
        max_marks = max(marks)

        # Plot histogram
        plt.figure(figsize=(6,4))
        plt.hist(marks, bins=range(0, 110, 10), edgecolor='black', alpha=0.7)
        plt.xlabel('Marks')
        plt.ylabel('Frequency')
        plt.title('Marks Distribution')
        plt.savefig("histogram.png")
        plt.close()

        html_content = generate_html_course(avg_marks, max_marks)

        with open("output.html", "w") as f:
            f.write(html_content)

except Exception:
    # On any error, produce error output.html and no histogram
    with open("output.html", "w") as f:
        f.write(generate_html_error())
