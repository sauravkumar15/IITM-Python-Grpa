import zipfile

Create the zip file

zip_filename = "/mnt/data/roll_number.zip" with zipfile.ZipFile(zip_filename, 'w') as zf: # app.py app_code = '''from flask import Flask, render_template, request import pandas as pd

app = Flask(name)

data = pd.read_csv('data.csv')

@app.route('/', methods=['GET','POST']) def index(): student_id = request.form.get('student_id') course_id = request.form.get('course_id') student_result = None course_result = None total_marks = None error_msg = None

if request.method=='POST':
    if student_id:
        student_result = data[data['Student id']==int(student_id)]
        if student_result.empty:
            error_msg = f'No records found for Student ID {student_id}'
        else:
            total_marks = student_result['Marks'].sum()
    if course_id:
        course_result = data[data['Course id']==int(course_id)]
        if course_result.empty:
            error_msg = f'No records found for Course ID {course_id}'

return render_template('index.html',
                       student_result=student_result.to_dict(orient='records') if student_result is not None else None,
                       course_result=course_result.to_dict(orient='records') if course_result is not None else None,
                       total_marks=total_marks,
                       error_msg=error_msg)

if name=='main': app.run(debug=True)''' zf.writestr('app.py', app_code)

# data.csv
data_csv = '''Student id,Course id,Marks

1001,2001,56 1002,2001,67 1003,2001,78 1004,2001,90 1005,2001,45 1001,2002,58 1002,2002,98 1009,2002,12 1007,2002,99 1008,2002,39 1003,2003,34 1004,2003,43 1000,2003,25 1060,2003,60 1090,2003,88 1005,2004,81 1080,2004,59 1030,2004,87 1001,2004,35 1090,2004,33''' zf.writestr('data.csv', data_csv)

# templates/index.html
index_html = '''<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<title>Student & Course Info</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<h1>Student & Course Information</h1>
<form method="POST">
<input type="number" name="student_id" placeholder="Enter Student ID">
<input type="number" name="course_id" placeholder="Enter Course ID">
<button type="submit">Search</button>
</form>
{% if error_msg %}
<p style="color:red;">{{ error_msg }}</p>
{% endif %}
{% if student_result %}
<h2>Student Details</h2>
<table border="1" cellpadding="5">
<tr><th>Student ID</th><th>Course ID</th><th>Marks</th></tr>
{% for row in student_result %}
<tr><td>{{ row['Student id'] }}</td><td>{{ row['Course id'] }}</td><td>{{ row['Marks'] }}</td></tr>
{% endfor %}
</table>
<p>Total Marks: {{ total_marks }}</p>
{% endif %}
{% if course_result %}
<h2>Course Details</h2>
<table border="1" cellpadding="5">
<tr><th>Student ID</th><th>Course ID</th><th>Marks</th></tr>
{% for row in course_result %}
<tr><td>{{ row['Student id'] }}</td><td>{{ row['Course id'] }}</td><td>{{ row['Marks'] }}</td></tr>
{% endfor %}
</table>
{% endif %}
</body>
</html>'''
    zf.writestr('templates/index.html', index_html)# static/style.css
style_css = '''body { font-family: Arial, sans-serif; text-align: center; margin:50px; }

input, button { padding:10px; margin:5px; } table { margin:20px auto; border-collapse:collapse; } th, td { padding:8px 15px; }''' zf.writestr('static/style.css', style_css)

# static/script.js
script_js = 'console.log("Flask app loaded");'
zf.writestr('static/script.js', script_js)

